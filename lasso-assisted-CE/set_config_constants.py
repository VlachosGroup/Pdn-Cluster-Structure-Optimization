# -*- coding: utf-8 -*-
"""
Set up configurations and their energy values
"""

import numpy as np
import pandas as pd
import os

#%%
'''
Configuragtions in old mother lattice
'''

config_i1 = [[0],                      #Pd1
          [0,1],                    #Pd2
          [0,1,2],                  #Pd3
          [0,1,2,7],                #Pd4
          [0,1,2,24],
          [0,1,2,7,12],             #Pd5
          [0,1,2,7,24],
          [0,1,2,7,15,12],          #Pd6
          [0,1,2,7,12,3],
          [0,1,2,7,12,8],
          [0,1,2,7,12,38],
          [0,1,2,7,24,38],
          [0,1,2,7,11,12,15],        #Pd7
          [0,1,2,7,12,3,9],
          [0,1,2,7,15,12,4],
          [0,1,2,7,15,12,3],
          [0,1,2,7,11,12,27],
          [0,1,2,7,12,3,24],
          [0,1,2,7,12,8,38],
          [0,1,2,7,12,24,27],
          [0,1,2,7,15,12,24,27],     #Pd8
          [0,1,2,7,12,24,27,28],
          [0,1,2,7,12,8,24,27,28],   #Pd9
          [0,1,2,7,11,12,15,24,27],
          [0,1,2,7,11,12,15,24,37],
          [0,1,2,7,11,12,15,34,37,38], #Pd10
          [0,1,2,7,11,12,15,24,27,9],
          [0,1,2,7,12,8,24,27,28,50],
          [0,1,2,7,11,12,15,23,24,27,28], #Pd11
          [0,1,2,7,11,12,15,23,24,27,8],
          [0,1,2,7,11,12,15,23,24,27,41],
          [0,1,2,7,11,12,15,23,24,27,55],
          [0,1,2,7,11,12,15,23,24,27,28,8],  #Pd12
          [0,1,2,7,11,12,15,23,24,27,28,26],
          [0,1,2,7,11,12,15,23,24,27,28,26,8], #Pd13
          [0,1,2,7,11,12,15,23,24,27,28,26,20],
          [0,1,2,7,11,12,15,23,24,27,28,26,8,13], #14
          [0,1,2,7,11,12,15,23,24,27,28,26,8,20],
          [0,1,2,7,11,12,15,23,24,27,28,26,20,55],
          [0,1,2,7,11,12,15,23,24,27,28,26,8,13,20], #15
          [0,1,2,7,11,12,15,23,24,27,28,26,8,13,20,4], #16
          [0,1,2,7,11,12,15,23,24,27,28,26,8,13,20,4,47], #17
          [0,1,2,7,11,12,15,23,24,27,28,26,8,13,20,4,55],
          [0,1,2,7,11,12,15,23,24,27,28,26,8,13,20,4,47,49],#18
          [0,1,2,7,11,12,15,23,24,27,28,26,8,13,20,4,47,49,50],#19
          [0,1,2,7,11,12,15,23,24,27,28,26,8,13,20,4,47,49,50,59],#20
          [0,1,2,7,11,12,15,23,24,27,28,26,8,13,20,4,47,49,50,59,51],#21
          [0,1,2,7,11,12,15,23,24,27,28,26,8,13,20,4,47,49,50,59,29],
          [0,1,2,7,11,12,15,23,24,27,28,26,8,13,20,4,47,49,50,59,17]]

config_i2 = [[0,1,2,34,38], #Pd5
            [0,1,2,15,34,38], #Pd6
            [0,1,2,34,35,38],
            [0,1,2,24,11,12,37], #Pd7
            [1,2,7,11,12,15,23,24,27],  #Pd9
            [0,1,2,11,12,15,23,24,27],
            [0,1,2,7,11,12,15,20,23,24,27,55], #Pd12
            [0,1,2,7,12,15,9,20,23,24,27,41],
            [0,1,2,7,11,12,15,20,23,24,27,47,55], #Pd13
            [0,1,2,7,11,12,15,8,23,24,27,28,47,49,50,59],#Pd16
            [0,1,7,11,15,8,20,23,24,26,27,28,47,49,50,59],
            [0,1,7,12,15,8,20,23,24,26,27,28,47,49,50,59],
            [0,2,7,11,15,23,24,27,28,26,8,13,20,4,47,49,50,59],#Pd18
            [0,2,11,12,15,23,24,27,28,26,8,13,20,4,47,49,50,59],
            [2,7,11,12,15,23,24,27,28,26,8,13,20,4,47,49,50,59],
            [0,1,7,11,12,15,23,24,27,28,26,8,20,4,47,49,50,59],
            [0,2,7,11,12,15,23,24,27,28,26,8,13,20,47,49,50,59],#Pd19
            [1,2,7,11,12,15,23,24,27,28,26,8,13,20,4,47,49,50,59],
            [0,1,2,7,11,12,15,23,24,27,28,26,8,20,4,47,49,50,59],
            [0,1,2,7,11,12,15,23,24,27,28,26,8,20,4,47,49,50,59,3]]#Pd20

config_i3 = [[0,1,2,7,9,10,38,30], #Pd8
             [0,1,2,7,11,12,15,23],
             [0,1,2,7,11,12,15,23,27], #Pd9
             [0,1,2,7,11,12,15,23,16],
             [0,2,7,11,12,15,34,37,27,4], #Pd10
             [0,1,2,7,11,12,15,23,24,27],
             [0,1,2,7,11,4,15,34,37,38],
             [0,1,2,7,11,4,15,34,37,12],
             [0,1,12,7,8,2,9,27,28,24,39], #Pd11
             [0,1,12,7,8,2,27,28,24,39,6],
             [0,1,2,12,7,8,11,24,28,37,27],
             [0,1,2,7,11,12,15,13,8,17,9,10,34,37,38,40,41], #Pd17
             [0,1,2,7,11,12,15,23,24,28,26,8,13,20,4,47,49,50,59]] #Pd19

config_i4 = [[0,4], #2Pd1
             [0,5],
             [1,14],
             [1,18],
             [6,18],
             [6,14],
             [6,16],
             [0,4,5], #1Pd1, 1Pd2
             [1,14,16],
             [1,4,14],
             [6,14,16],
             [6,4,14],
             [0,4,3], #3Pd1
             [0,4,6],
             [0,4,8],
             [0,4,10],
             [0,4,9],
             [1,14,17],
             [1,15,13],
             [1,15,17],
             [1,15,18],
             [0,2,6,8], #2Pd2
             [0,2,8,10],
             [1,6,5,11],
             [1,6,15,4],
             [1,6,18,16],
             [1,6,16,14],
             [1,6,18,11],
             [1,6,0,11],
             [0,2,6,10], #1Pd2, 2Pd1
             [0,2,6,9],
             [1,6,15,12],
             [1,6,4,9],
             [1,6,14,17],
             [1,6,13,16],
             [1,6,9,4],
             [1,6,18,4],
             [1,6,18,14],
             [1,6,18,15],
             [1,6,14,13],
             [1,6,16,12],
             [1,6,16,9],
             [1,6,16,10],
             [1,6,16,17]]


'''
Configuration Energy
'''

Ec_i1 = [0.0,
 -0.45,
 -1.5,
 -2.56,
 -2.74,
 -3.41,
 -3.99,
 -4.49,
 -4.38,
 -4.32,
 -5.23,
 -4.95,
 -6.07,
 -4.9,
 -5.11,
 -5.12,
 -6.26,
 -5.96,
 -5.91,
 -6.74,
 -7.77,
 -7.51,
 -9.31,
 -9.19,
 -9.05,
 -10.98,
 -9.97,
 -9.95,
 -11.88,
 -11.64,
 -11.48,
 -11.2,
 -13.33,
 -13.01,
 -14.41,
 -14.15,
 -15.79,
 -15.62,
 -15.16,
 -16.9,
 -18.14,
 -18.9,
 -18.82,
 -20.24,
 -21.9,
 -22.7,
 -23.49,
 -23.36,
 -23.08]

Ec_i2 = [-3.10,
-5.00,
-4.05,
-5.87,
-7.47,
-8.93,
-12.32,
-11.40,
-12.84,
-16.05,
-14.78,
-14.88,
-16.75,
-17.42,
-16.78,
-18.58,
-19.73,
-19.62,
-21.22,
-22.23]

Ec_i3 = [-6.84,
-7.78,
-9.02,
-8.44,
-9.69,
-10.86,
-10.00,
-10.30,
-10.67,
-11.07,
-11.11,
-19.02,
-19.50]

Ec_i4 = list(np.ones(7)*Ec_i1[0])+ list(np.ones(5)*Ec_i1[1])+ list(np.ones(9)*Ec_i1[0])+ list(np.ones(8)*Ec_i1[1]*2)+list(np.ones(15)*Ec_i1[1]) #2Pd1, 1Pd2

'''
Use pandas and copy clipboard in Excel to import data
Ec =list(pd.read_clipboard(header = None)['0'])
'''

'''
Combine all batches into one list
'''
config = [config_i1, config_i2, config_i3, config_i4]
Ec = [Ec_i1, Ec_i2, Ec_i3, Ec_i4]



#%%
'''
Convert old lattice indices into new lattice indices
Use the one to one mapping in config_lattice_points_mapping.csv
'''
HomePath = os.path.expanduser('~')
ProjectPath = os.path.join(HomePath, 'Documents', 'GitHub', 'Pdn-Dynamics-Model')
path = os.path.join(ProjectPath, 'Cluster-Expansion', 'v11_annealing')

mapping = pd.read_csv(os.path.join(path, 'config_lattice_points_mapping.csv'), header = 0)
old_indices = np.array(mapping['old'])
new_indices = np.array(mapping['new'])
dct_mapping = dict((a, b) for a, b in zip(old_indices, new_indices))


config_new = []
for config_batch_i in config:
    config_new_batch = []

    for config_j in config_batch_i:
        config_new_batch.append([dct_mapping[point_i] for point_i in config_j])

    config_new.append(config_new_batch)

# rename it to config
config = config_new
